<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>My Questions</title>
<link rel="stylesheet" type="text/css"
	th:href="@{/css/myQuestionListStyle.css}">
<script>
	function showAlert(event, message) {
		alert(message);
	}

	function confirmDelete(event) {
		if (!confirm('정말 삭제하시겠습니까? 삭제 시,Q&A List로 이동합니다.')) {
			event.preventDefault();
		}
	}
</script>
</head>
<body>
	<div th:insert="~{header}"></div>
	<div class="container">
		<h1>My Questions</h1>
		<table>
			<thead>
				<tr>
					<th>Title</th>
					<th>Content</th>
					<th>Date</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<!-- Iterate over user's questions -->
				<tr th:each="question : ${myQuestions}">
					<td th:text="${question.title}"></td>
					<td th:text="${question.content}"></td>
					<td th:text="${question.qdate}"></td>
					<td class="actions"><a
						th:href="@{/question/viewQuestion(question_id=${question.question_id})}"
						class="view-btn"
						onclick="showAlert(event, 'Question View로 이동하겠습니다.');">View</a>
						<form th:action="@{/question/deleteQuestion}" method="post"
							class="delete" onsubmit="confirmDelete(event);">
							<input type="hidden" name="question_id"
								th:value="${question.question_id}">
							<button type="submit" class="delete-btn">Delete</button>
						</form></td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>
